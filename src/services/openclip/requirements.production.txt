# Production OpenCLIP Server Requirements
# Optimized for performance, security, and Azure deployment

# FastAPI and ASGI server
fastapi==0.104.1
uvicorn[standard]==0.24.0
gunicorn==21.2.0

# Core ML dependencies
torch>=2.0.0,<2.2.0
torchvision>=0.15.0,<0.17.0
open-clip-torch>=2.24.0
transformers>=4.32.0
huggingface-hub>=0.19.0,<0.20.0

# Image processing
Pillow==10.2.0
numpy==1.24.3

# Caching and data processing
redis==5.0.1
hiredis==2.2.3  # Faster Redis protocol

# Request validation and serialization
pydantic==2.5.0

# HTTP client for health checks
requests==2.31.0

# System monitoring
psutil==5.9.6

# Metrics and monitoring
prometheus-client==0.19.0

# Security and middleware
python-multipart==0.0.6

# Async utilities
asyncio-throttle==1.0.2

# Production ASGI server optimizations
httptools==0.6.1
uvloop==0.19.0; sys_platform != "win32"

# Logging and structured data
structlog==23.2.0

# Environment management
python-dotenv==1.0.0

# Performance profiling (optional for debugging)
py-spy==0.3.14

# Container health monitoring
healthcheck==1.3.3